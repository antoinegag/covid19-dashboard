(this["webpackJsonpcovid19-dashboard"]=this["webpackJsonpcovid19-dashboard"]||[]).push([[0],{14:function(e,t,a){e.exports=a(30)},25:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=a(2),i=a(5),s=a.n(i),m=a(6),u=a.n(m);function d(e,t,a,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{x:e.map((function(e){return e.date})),y:e.map((function(e){return e[t]})),type:"log",mode:"lines+markers",marker:{color:n},name:a||t,visible:r}}var b=["Canada","US","China","France","Italy","United Kindom"];function h(e){var t=e.data,a=Object(n.useState)("linear"),l=Object(c.a)(a,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Confirmed cases"),r.a.createElement("p",null,"Click on a country on the right to toggle it on the graph."),r.a.createElement("div",{className:"mb-6"},r.a.createElement(s.a,{style:{backgroundColor:"#000"},data:t.timeSeries.map((function(e){return d(e.data,"confirmed",e.name,void 0,!!b.includes(e.name)||"legendonly")})),layout:{autosize:!0,yaxis:{type:o}}})),r.a.createElement("div",null,r.a.createElement("p",null,"Log scale allow you to easily see the growth rate of confirmed cases while Linear simply shows the total cases over time."),r.a.createElement("button",{className:u()("mr-2",{"bg-blue-900 border-2 border-gray-600":"log"===o}),onClick:function(){return i("log")}},"Log"),r.a.createElement("button",{className:u()({"bg-blue-900 border-2 border-gray-600":"linear"===o}),onClick:function(){return i("linear")}},"Linear")))}var v=a(7),f=a.n(v),g=a(10);function p(e,t){var a=Object.keys(e);t&&(a=a.filter((function(e){return t.includes(e)})));var n=a.length,r=e[a[0]],l=r[r.length-1].date,o=a.map((function(t){return{name:t,data:e[t]}}));return{count:n,countries:a,lastUpdate:l,timeSeries:o}}function E(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Deaths"),r.a.createElement("p",null,"Click on a country on the right to toggle it on the graph."),r.a.createElement("div",{className:"mb-6"},r.a.createElement(s.a,{style:{backgroundColor:"#000"},data:t.timeSeries.map((function(e){return d(e.data,"deaths",e.name,void 0,!!b.includes(e.name)||"legendonly")})),layout:{autosize:!0}})))}function y(){var e=function(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),i=Object(c.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(),d=Object(c.a)(u,2),b=d[0],h=d[1],v=Object(n.useCallback)(Object(g.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:if(!(a=t.sent).ok){t.next=11;break}return t.next=6,a.json();case 6:n=t.sent,l(p(n,e)),h(!0),t.next=12;break;case 11:h(!1);case 12:m(!1);case 13:case"end":return t.stop()}}),t)}))),[JSON.stringify(e)]);return Object(n.useEffect)((function(){v()}),[v]),[s,b,r]}(),t=Object(c.a)(e,3),a=(t[0],t[1]),l=t[2];return r.a.createElement("div",null,a?r.a.createElement("div",null,r.a.createElement(h,{data:l}),r.a.createElement("hr",null),r.a.createElement(E,{data:l})):r.a.createElement("div",null,"Loading"))}a(25);var k=a(12),S=a(11);function w(){return r.a.createElement("div",{className:"visible md:invisible bg-orange-200 rounded-lg p-4"},r.a.createElement(S.a,{icon:k.a,className:"text-orange-500 mr-2"}),"Screen too small to show graphs")}function x(){var e=Object(n.useState)(localStorage.getItem("disclaimer-closed")),t=Object(c.a)(e,2),a=t[0],l=t[1];return!a&&r.a.createElement("div",{className:"bg-red-200 rounded-lg p-4 mb-2"},r.a.createElement("h4",{className:"font-semibold text-xl"},"Important disclaimer"),r.a.createElement("p",{className:"mb-2"},"Data is provided by"," ",r.a.createElement("a",{className:"text-blue-700 underline",href:"https://github.com/CSSEGISandData/COVID-19"},"Johns Hopkins CSSE")),r.a.createElement("p",{className:"mb-2"},"Although the data found here has been produced and processed from third party sources believed to be reliable, no warranty expressed or implied is made regarding accuracy, adequacy, completeness, reliability or usefulness of any information."),r.a.createElement("p",{className:"mb-2 font-bold text-lg"},"In short, this doesn't perfectly reflect reality."),r.a.createElement("button",{onClick:function(){localStorage.setItem("disclaimer-closed",!0),l(!0)}},"Close"))}var N=function(){return r.a.createElement("div",{className:"App py-8 px-8"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-full"},r.a.createElement("h2",null,"State of the world on Covid-19"),r.a.createElement(x,null),r.a.createElement(w,null),r.a.createElement("div",null,r.a.createElement("div",{className:"text-xl"}),r.a.createElement("div",{className:"invisible md:visible"},r.a.createElement(y,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(29);var j=a(3),O=a(13);j.b.add(O.a),o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.81b37626.chunk.js.map