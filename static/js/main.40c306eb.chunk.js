(this["webpackJsonpcovid19-dashboard"]=this["webpackJsonpcovid19-dashboard"]||[]).push([[0],{20:function(e,t,a){e.exports=a(60)},55:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=a(4),s=a(6),i=a.n(s),m=a(5),d=a.n(m);function u(e,t,a,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{x:e.map((function(e){return e.date})),y:e.map((function(e){return e[t]})),type:"log",mode:"lines+markers",marker:{color:n},name:a||t,visible:r}}var b=["Canada","US","China","France","Italy","United Kindom"];function h(e){var t=e.data,a=Object(n.useState)("linear"),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Confirmed cases"),r.a.createElement("p",null,"Click on a country on the right to toggle it on the graph."),r.a.createElement("div",{className:"mb-6"},r.a.createElement(i.a,{style:{backgroundColor:"#000"},data:t.timeSeries.map((function(e){return u(e.data,"confirmed",e.name,void 0,!!b.includes(e.name)||"legendonly")})),layout:{autosize:!0,yaxis:{type:l}}})),r.a.createElement("div",null,r.a.createElement("p",null,"Log scale allow you to easily see the growth rate of confirmed cases while Linear simply shows the total cases over time."),r.a.createElement("button",{className:d()("mr-2",{"bg-blue-900 border-2 border-gray-600":"log"===l}),onClick:function(){return s("log")}},"Log"),r.a.createElement("button",{className:d()({"bg-blue-900 border-2 border-gray-600":"linear"===l}),onClick:function(){return s("linear")}},"Linear")))}var v=a(7),f=a.n(v),g=a(10);function E(e,t){var a=Object.keys(e);t&&(a=a.filter((function(e){return t.includes(e)})));var n=a.length,r=e[a[0]],c=r[r.length-1].date,l=a.map((function(t){return{name:t,data:e[t]}}));return{count:n,countries:a,lastUpdate:c,timeSeries:l}}function p(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Deaths"),r.a.createElement("p",null,"Click on a country on the right to toggle it on the graph."),r.a.createElement("div",{className:"mb-6"},r.a.createElement(i.a,{style:{backgroundColor:"#000"},data:t.timeSeries.map((function(e){return u(e.data,"deaths",e.name,void 0,!!b.includes(e.name)||"legendonly")})),layout:{autosize:!0}})))}function y(e){var t=e.data,a=Object(n.useState)("linear"),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Recovered"),r.a.createElement("p",null,"Click on a country on the right to toggle it on the graph."),r.a.createElement("div",{className:"mb-6"},r.a.createElement(i.a,{style:{backgroundColor:"#000"},data:t.timeSeries.map((function(e){return u(e.data,"recovered",e.name,void 0,!!b.includes(e.name)||"legendonly")})),layout:{autosize:!0,yaxis:{type:l}}})),r.a.createElement("div",null,r.a.createElement("p",null,"Log scale allow you to easily see the growth rate of recovered cases while Linear simply shows the total recovered cases over time."),r.a.createElement("button",{className:d()("mr-2",{"bg-blue-900 border-2 border-gray-600":"log"===l}),onClick:function(){return s("log")}},"Log"),r.a.createElement("button",{className:d()({"bg-blue-900 border-2 border-gray-600":"linear"===l}),onClick:function(){return s("linear")}},"Linear")))}var x=a(11);function k(){var e=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(o.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)(),u=Object(o.a)(d,2),b=u[0],h=u[1],v=Object(n.useCallback)(Object(g.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:if(!(a=t.sent).ok){t.next=11;break}return t.next=6,a.json();case 6:n=t.sent,c(E(n,e)),h(!0),t.next=12;break;case 11:h(!1);case 12:m(!1);case 13:case"end":return t.stop()}}),t)}))),[JSON.stringify(e)]);return Object(n.useEffect)((function(){v()}),[v]),[i,b,r]}(),t=Object(o.a)(e,3),a=(t[0],t[1]),c=t[2];return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Evolution"),a?r.a.createElement("div",null,r.a.createElement(h,{data:c}),r.a.createElement("hr",null),r.a.createElement(p,{data:c}),r.a.createElement("hr",null),r.a.createElement(y,{data:c})):r.a.createElement("div",{className:"text-center my-64"},r.a.createElement(x.PulseLoader,{color:"#4299e1"})))}a(55);var N=a(17),j=a(16);function O(){return r.a.createElement("div",{className:"block md:hidden bg-orange-200 rounded-lg p-4"},r.a.createElement(j.a,{icon:N.a,className:"text-orange-500 mr-2"}),"Screen too small to display graphs")}function S(e){var t=e.closable,a=Object(n.useState)(localStorage.getItem("disclaimer-closed")),c=Object(o.a)(a,2),l=c[0],s=c[1];return(!t||!l)&&r.a.createElement("div",{className:"bg-red-200 rounded-lg p-4 mb-2"},r.a.createElement("h4",{className:"font-semibold text-xl"},"Important disclaimer"),r.a.createElement("p",{className:"mb-2"},"Data provided by"," ",r.a.createElement("a",{className:"text-blue-700 underline",href:"https://github.com/CSSEGISandData/COVID-19"},"Johns Hopkins CSSE")),r.a.createElement("p",{className:"mb-2"},"Although the data found here has been produced and processed from third party sources believed to be reliable, no warranty expressed or implied is made regarding accuracy, adequacy, completeness, reliability or usefulness of any information."),r.a.createElement("p",{className:"mb-2 font-bold text-lg"},"In short, this doesn't perfectly reflect reality. Stay safe!"),t&&r.a.createElement("button",{onClick:function(){localStorage.setItem("disclaimer-closed",!0),s(!0)}},"Close"))}var w=a(19);function C(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return((t-e)/t*100).toFixed(a)}function I(e){var t=e.count,a=e.change,n=e.lessIsBetter,c=void 0!==n&&n;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{className:d()("font-semibold",{"text-red-600":c?a<0:a>0,"text-green-600":c?a>=0:a<=0})},a>0&&"+"," ",a," %")," ","(24h)"),r.a.createElement("div",null,t>0&&"+ ",t.toLocaleString()))}function L(e){var t=e.label,a=e.number,n=e.change,c=e.lessIsBetter,l=void 0!==c&&c;return r.a.createElement("div",{className:"w-1/3 text-center"},r.a.createElement("div",{className:"font-semibold"},t),r.a.createElement("div",{className:"font-bold text-xl tracking-widest"},a.toLocaleString()),r.a.createElement("div",null,r.a.createElement(I,{change:n.change,count:n.count,lessIsBetter:l})))}function D(e){var t=e.date,a=e.data,n=a.today,c=n.confirmed,l=n.deaths,o=n.recovered;return console.log(a.dayChange.confirmed),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-2xl font-semibold mb-2 text-center"},t),r.a.createElement("div",{className:"flex"},r.a.createElement(L,{label:"Confirmed",number:c,change:a.dayChange.confirmed}),r.a.createElement(L,{label:"Deaths",number:l,change:a.dayChange.deaths}),r.a.createElement(L,{label:"Recovered",number:o,change:a.dayChange.recovered,lessIsBetter:!0})))}function B(){var e=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!0),s=Object(o.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)(),u=Object(o.a)(d,2),b=u[0],h=u[1];return Object(n.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var a,n,r,l,o,s,i,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://covidapi.info/api/v1/global".concat(e?"/".concat(e):""));case 2:if(!(a=t.sent).ok){t.next=22;break}return t.next=6,a.json();case 6:return n=t.sent,r=new Date(n.date),l=new Date(r-1),t.next=11,fetch("https://covidapi.info/api/v1/global/".concat(l.toISOString()));case 11:if(!(o=t.sent).ok){t.next=20;break}return t.next=15,o.json();case 15:s=t.sent,i=n.result,d=s.result,c({date:n.date,today:Object(w.a)({},n.result),dayChange:{confirmed:{count:i.confirmed-d.confirmed,change:C(d.confirmed,i.confirmed)},deaths:{count:i.deaths-d.deaths,change:C(d.deaths,i.deaths)},recovered:{count:i.recovered-d.recovered,change:C(d.recovered,i.recovered)}}}),h(!0);case 20:t.next=23;break;case 22:h(!1);case 23:m(!1);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),[i,b,r]}(),t=Object(o.a)(e,3),a=(t[0],t[1]),c=t[2];return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Summary"),a?r.a.createElement("div",null,r.a.createElement(D,{date:c.date,data:c})):r.a.createElement("div",{className:"text-center my-16"},r.a.createElement(x.PulseLoader,{color:"#4299e1"})))}var J=function(){return r.a.createElement("div",{className:"App py-8 px-8"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-full mb-6"},r.a.createElement("h1",{className:"text-center"},"State of the world on Covid-19"),r.a.createElement(S,{closable:!0}),r.a.createElement(O,null),r.a.createElement("div",null,r.a.createElement("div",{className:"md:w-1/2 md:mx-auto mb-6"},r.a.createElement(B,null)),r.a.createElement("div",{className:"hidden md:block"},r.a.createElement(k,null))))),r.a.createElement("div",null,r.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59);var z=a(8),U=a(18);z.b.add(U.a),l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.40c306eb.chunk.js.map